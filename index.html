<!DOCTYPE html>
<html lang="fr">
<head>
Â Â <meta charset="UTF-8" />
Â Â <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
Â Â <title>Mais oÃ¹, oÃ¹, oÃ¹, oÃ¹ est Moumounito ?</title>
Â Â <style>
Â Â Â Â :root{
Â Â Â Â Â Â --mint1:#b9fff5; --mint2:#ffffff; --ink:#0f3d35;
Â Â Â Â Â Â --btn1:#00c9a7; --btn1b:#00b398; --btn2:#8b5cf6; --btn2b:#6d28d9;
Â Â Â Â Â Â --btn3:#f59e0b; --btn3b:#d97706; --btn4:#ef4444; --btn4b:#dc2626;
Â Â Â Â Â Â --btn5:#3b82f6; --btn5b:#2563eb;
Â Â Â Â }
Â Â Â Â *{box-sizing:border-box}
Â Â Â Â body{
Â Â Â Â Â Â font-family: "Comic Sans MS", system-ui, -apple-system, sans-serif;
Â Â Â Â Â Â margin:0;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;
Â Â Â Â Â Â text-align:center;background:linear-gradient(180deg,var(--mint1),var(--mint2));
Â Â Â Â Â Â color:var(--ink); padding:12px;
Â Â Â Â }
Â Â Â Â h1{font-size:2.1rem;margin:6px 0 2px;text-shadow:1px 1px 2px #7fffd4}
Â Â Â Â h2{font-weight:400;margin:0 0 14px;color:#365c55}
Â Â Â Â .wrap{width:min(900px,100%);padding:8px 12px}
Â Â Â Â img{width:200px;max-width:55vw;margin:6px auto 12px;animation:bounce 2s infinite}
Â Â Â Â @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

Â Â Â Â .bar{display:flex;gap:8px;align-items:center;justify-content:center;flex-wrap:wrap;margin:8px 0}
Â Â Â Â .tag{background:#e9fff9;border-radius:999px;color:#04695d;padding:8px 14px;font-weight:800}

Â Â Â Â .hint{font-size:1.1rem;margin:10px 0 4px}
Â Â Â Â .msg{min-height:34px;margin-top:8px;font-size:1.15rem}

Â Â Â Â .controls{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-bottom:8px}
Â Â Â Â .btn{
Â Â Â Â Â Â border:0;border-radius:14px;color:#fff;font-weight:900;letter-spacing:.2px;
Â Â Â Â Â Â padding:14px 20px;cursor:pointer;box-shadow:2px 4px 10px rgba(0,0,0,.18);
Â Â Â Â Â Â transition:.2s;font-size:1.05rem;background:#00c9a7;
Â Â Â Â }
Â Â Â Â .btn:hover{transform:translateY(-1px);filter:brightness(.98)}
Â Â Â Â .btn:active{transform:translateY(0)}

Â Â Â Â /* GROS boutons de lieux (trÃ¨s cliquables) */
Â Â Â Â .choices{
Â Â Â Â Â Â display:grid;gap:12px;margin-top:10px;
Â Â Â Â Â Â grid-template-columns:repeat(2,minmax(160px,1fr));
Â Â Â Â }
Â Â Â Â @media (max-width:560px){ .choices{grid-template-columns:1fr} }
Â Â Â Â .choice{
Â Â Â Â Â Â display:flex;align-items:center;justify-content:center;gap:8px;
Â Â Â Â Â Â min-height:76px;font-size:1.15rem;font-weight:900;color:#fff;border:0;border-radius:18px;cursor:pointer;
Â Â Â Â Â Â box-shadow:2px 6px 14px rgba(0,0,0,.18);transition:transform .2s, filter .2s;
Â Â Â Â }
Â Â Â Â .choice:hover{transform:translateY(-2px)}
Â Â Â Â .choice[disabled]{opacity:.55;filter:grayscale(.2);cursor:not-allowed;transform:none}

Â Â Â Â /* Couleurs variÃ©es par bouton */
Â Â Â Â .c-ecoleÂ Â Â {background:linear-gradient(180deg,var(--btn5),var(--btn5b));}
Â Â Â Â .c-parcÂ Â Â Â {background:linear-gradient(180deg,#22c55e,#16a34a);}
Â Â Â Â .c-piscine {background:linear-gradient(180deg,#06b6d4,#0891b2);}
Â Â Â Â .c-nanoÂ Â Â Â {background:linear-gradient(180deg,var(--btn3),var(--btn3b));}
Â Â Â Â .c-chambre {background:linear-gradient(180deg,var(--btn2),var(--btn2b));}
Â Â </style>
</head>
<body>
Â Â <div class="wrap">
Â Â Â Â <h1>Mais oÃ¹, oÃ¹, oÃ¹, oÃ¹ est Moumounito ?</h1>
Â Â Â Â <h2>Sa loupe a encore disparu ! ğŸ”</h2>

Â Â Â Â <img src="moumounito.png" alt="Moumounito dÃ©tective" />

Â Â Â Â <div class="bar">
Â Â Â Â Â Â <span class="tag" id="timer">â±ï¸ 60 s</span>
Â Â Â Â Â Â <span class="tag" id="score">Score : 0 / 0</span>
Â Â Â Â </div>

Â Â Â Â <p class="hint" id="hint">Appuie sur â€œNouvelle mancheâ€ pour recevoir un indice ğŸ‘€</p>

Â Â Â Â <div class="controls">
Â Â Â Â Â Â <button class="btn" id="newRound">ğŸ” Nouvelle manche</button>
Â Â Â Â Â Â <button class="btn" id="share">ğŸ“¤ Partager</button>
Â Â Â Â </div>

Â Â Â Â <div class="choices" id="choices">
Â Â Â Â Â Â <button class="choice c-ecole"Â Â Â data-key="Ã©cole">ğŸ« Ã€ lâ€™Ã©cole</button>
Â Â Â Â Â Â <button class="choice c-parc"Â Â Â Â data-key="parc">ğŸŒ³ Au parc</button>
Â Â Â Â Â Â <button class="choice c-piscine" data-key="piscine">ğŸŠâ€â™‚ï¸ Ã€ la piscine</button>
Â Â Â Â Â Â <button class="choice c-nano"Â Â Â Â data-key="nano">ğŸ  Chez Nano</button>
Â Â Â Â Â Â <button class="choice c-chambre" data-key="chambre">ğŸ›ï¸ Dans sa chambre</button>
Â Â Â Â </div>

Â Â Â Â <div class="msg" id="msg"></div>
Â Â Â Â <div style="opacity:.7;font-size:.98rem;margin-top:6px">
Â Â Â Â Â Â Tu as 1 minute par manche. Tu peux essayer plusieurs lieux ğŸ˜‰
Â Â Â Â </div>
Â Â </div>

Â Â <!-- Musique lÃ©gÃ¨re â€œdÃ©tectiveâ€ -->
Â Â <audio id="bgm" loop>
Â Â Â Â <source src="https://cdn.pixabay.com/download/audio/2023/02/28/audio_3e0a3f95d2.mp3?filename=sneaky-detective-160076.mp3" type="audio/mpeg">
Â Â </audio>
Â Â <!-- Sons -->
Â Â <audio id="win" src="https://cdn.pixabay.com/download/audio/2021/09/30/audio_739bd4b0eb.mp3?filename=kids-cheering-101573.mp3"></audio>
Â Â <audio id="lose" src="https://cdn.pixabay.com/download/audio/2022/03/09/audio_b86c66e444.mp3?filename=cartoon-failure-trumpet-230690.mp3"></audio>

Â Â <script>
Â Â Â Â // Indices logiques (corrigÃ©s)
Â Â Â Â const HINTS = {
Â Â Â Â Â Â "Ã©cole": [
Â Â Â Â Â Â Â Â "Jâ€™y apprends Ã  lire et Ã©crire âœï¸ğŸ“–",
Â Â Â Â Â Â Â Â "Mon cartable est prÃ¨s du tableau ğŸ“š",
Â Â Â Â Â Â Â Â "Jâ€™entends la sonnerie retentir ğŸ›ï¸"
Â Â Â Â Â Â ],
Â Â Â Â Â Â "parc": [
Â Â Â Â Â Â Â Â "Je crois quâ€™il joue au ballon ğŸˆ",
Â Â Â Â Â Â Â Â "Les oiseaux chantent trÃ¨s fort ğŸ¦",
Â Â Â Â Â Â Â Â "Je vois des balanÃ§oires et des toboggans ğŸ ",
Â Â Â Â Â Â Â Â "Il y a de lâ€™herbe partout et des arbres ğŸŒ³"
Â Â Â Â Â Â ],
Â Â Â Â Â Â "piscine": [
Â Â Â Â Â Â Â Â "Je crois que Ã§a sent le chlore ğŸ’¦",
Â Â Â Â Â Â Â Â "On entend Â« plouf ! plouf ! Â»",
Â Â Â Â Â Â Â Â "Jâ€™ai les doigts tout fripÃ©s ğŸ§½"
Â Â Â Â Â Â ],
Â Â Â Â Â Â "nano": [
Â Â Â Â Â Â Â Â "Quelquâ€™un prÃ©pare un goÃ»ter ğŸª",
Â Â Â Â Â Â Â Â "Jâ€™y passe beaucoup de temps avec Minou ğŸ±",
Â Â Â Â Â Â Â Â "Jâ€™adore y aller quand Hania et Rayan viennent ğŸ¤—"
Â Â Â Â Â Â ],
Â Â Â Â Â Â "chambre": [
Â Â Â Â Â Â Â Â "Mes Lego traÃ®nent partout ğŸ§±",
Â Â Â Â Â Â Â Â "Mon doudou est posÃ© sur le lit ğŸ§¸",
Â Â Â Â Â Â Â Â "Je ferme la porte pour jouer tranquille ğŸšª"
Â Â Â Â Â Â ]
Â Â Â Â };

Â Â Â Â const places = Object.keys(HINTS);
Â Â Â Â const timerEl = document.getElementById("timer");
Â Â Â Â const hintElÂ Â = document.getElementById("hint");
Â Â Â Â const msgElÂ Â Â = document.getElementById("msg");
Â Â Â Â const scoreEl = document.getElementById("score");
Â Â Â Â const winS = document.getElementById("win");
Â Â Â Â const loseS = document.getElementById("lose");
Â Â Â Â const bgm = document.getElementById("bgm");
Â Â Â Â const choices = Array.from(document.querySelectorAll(".choice"));
Â Â Â Â const newRoundBtn = document.getElementById("newRound");
Â Â Â Â const shareBtn = document.getElementById("share");

Â Â Â Â let answer = null;
Â Â Â Â let score = 0, rounds = 0;
Â Â Â Â let timeLeft = 60, tick = null;
Â Â Â Â let found = false;

Â Â Â Â // iPhone : dÃ©marrer lâ€™audio au premier tap
Â Â Â Â document.body.addEventListener('click', () => {
Â Â Â Â Â Â if (bgm.paused) bgm.play().catch(()=>{});
Â Â Â Â }, { once:true });

Â Â Â Â function startRound(){
Â Â Â Â Â Â found = false;
Â Â Â Â Â Â answer = places[Math.floor(Math.random()*places.length)];
Â Â Â Â Â Â const options = HINTS[answer];
Â Â Â Â Â Â hintEl.textContent = "Indice : " + options[Math.floor(Math.random()*options.length)];
Â Â Â Â Â Â msgEl.textContent = "";
Â Â Â Â Â Â // rÃ©activer tous les boutons
Â Â Â Â Â Â choices.forEach(b=>{ b.disabled = false; b.style.outline = "none"; });

Â Â Â Â Â Â // timer
Â Â Â Â Â Â clearInterval(tick);
Â Â Â Â Â Â timeLeft = 60;
Â Â Â Â Â Â timerEl.textContent = "â±ï¸ " + timeLeft + " s";
Â Â Â Â Â Â tick = setInterval(()=>{
Â Â Â Â Â Â Â Â timeLeft--;
Â Â Â Â Â Â Â Â timerEl.textContent = "â±ï¸ " + timeLeft + " s";
Â Â Â Â Â Â Â Â if(timeLeft<=0){
Â Â Â Â Â Â Â Â Â Â clearInterval(tick);
Â Â Â Â Â Â Â Â Â Â endRound(false,true);
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â },1000);

Â Â Â Â Â Â rounds++; // une manche est comptÃ©e quand elle dÃ©marre
Â Â Â Â Â Â updateScore();
Â Â Â Â }

Â Â Â Â function endRound(won, timeOut=false){
Â Â Â Â Â Â clearInterval(tick);
Â Â Â Â Â Â choices.forEach(b=>b.disabled = true);
Â Â Â Â Â Â if(won){
Â Â Â Â Â Â Â Â msgEl.innerHTML = "ğŸ‰ Bravo ! Tu as trouvÃ© Moumounito <b>" + label(answer) + "</b> !";
Â Â Â Â Â Â Â Â winS.currentTime=0; winS.play().catch(()=>{});
Â Â Â Â Â Â }else if(timeOut){
Â Â Â Â Â Â Â Â msgEl.innerHTML = "â° Temps Ã©coulÃ© ! Il Ã©tait <b>" + label(answer) + "</b>.";
Â Â Â Â Â Â }else{
Â Â Â Â Â Â Â Â msgEl.innerHTML = "ğŸ˜… Pas lÃ â€¦ continue, il te reste du temps !";
Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â function label(key){
Â Â Â Â Â Â switch(key){
Â Â Â Â Â Â Â Â case "Ã©cole": return "Ã  lâ€™Ã©cole";
Â Â Â Â Â Â Â Â case "parc": return "au parc";
Â Â Â Â Â Â Â Â case "piscine": return "Ã  la piscine";
Â Â Â Â Â Â Â Â case "nano": return "chez Nano";
Â Â Â Â Â Â Â Â case "chambre": return "dans sa chambre";
Â Â Â Â Â Â Â Â default: return key;
Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â function updateScore(){
Â Â Â Â Â Â scoreEl.textContent = `Score : ${score} / ${rounds}`;
Â Â Â Â }

Â Â Â Â // clic sur un lieu
Â Â Â Â choices.forEach(btn=>{
Â Â Â Â Â Â btn.addEventListener("click", ()=>{
Â Â Â Â Â Â Â Â if(!answer) return;
Â Â Â Â Â Â Â Â const choice = btn.dataset.key;
Â Â Â Â Â Â Â Â if(choice === answer){
Â Â Â Â Â Â Â Â Â Â score++; found = true;
Â Â Â Â Â Â Â Â Â Â updateScore();
Â Â Â Â Â Â Â Â Â Â endRound(true);
Â Â Â Â Â Â Â Â }else{
Â Â Â Â Â Â Â Â Â Â btn.disabled = true;
Â Â Â Â Â Â Â Â Â Â btn.style.outline = "3px solid #ffb3b3";
Â Â Â Â Â Â Â Â Â Â loseS.currentTime=0; loseS.play().catch(()=>{});
Â Â Â Â Â Â Â Â Â Â msgEl.textContent = "âŒ Mauvaise piste, essaie un autre lieuâ€¦";
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â });
Â Â Â Â });

Â Â Â Â newRoundBtn.addEventListener("click", startRound);

Â Â Â Â shareBtn.addEventListener("click", ()=>{
Â Â Â Â Â Â const text = "Viens mâ€™aider Ã  retrouver Moumounito ğŸ˜…ğŸ” " + window.location.href;
Â Â Â Â Â Â if(navigator.share){
Â Â Â Â Â Â Â Â navigator.share({title:"OÃ¹ est Moumounito ?", text, url: window.location.href});
Â Â Â Â Â Â }else{
Â Â Â Â Â Â Â Â navigator.clipboard.writeText(text);
Â Â Â Â Â Â Â Â alert("Lien copiÃ©, partage-le !");
Â Â Â Â Â Â }
Â Â Â Â });

Â Â Â Â // DÃ©marre avec une manche prÃªte
Â Â Â Â startRound();
Â Â </script>
</body>
</html>
